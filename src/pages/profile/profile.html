<ion-header no-border>

  <ion-navbar color="bite">
    <ion-title>{{ 'PROFILE' | translate}}</ion-title>
    <ion-buttons right>
      <button ion-button icon-only (click)="ProfileEditPage()">
        <ion-icon name="md-create"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <div class="bite-color">
    <ion-grid>
      <ion-row>
        <ion-col col-3>
        </ion-col>
        <ion-col col-6 text-center>
          <preload-image class="image-radius" [ratio]="{w:1, h:1}" [src]="user.profileImageURL" [isIcon]="true"></preload-image>
        </ion-col>
        <ion-col col-3>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12 class="text-name" padding-top text-center>
          <h4>{{user.displayName}}
            <span class="text-rank">({{ 'RANK' | translate }} : 2)</span>
          </h4>
        </ion-col>
      </ion-row>
      <ion-row padding-bottom>
        <ion-col no-padding col-6 text-center class="horizontally-center">
          <ion-icon class="text-icon" name="ios-flag"></ion-icon>
          <progress class="progress-me" max="100" value="90"></progress>
        </ion-col>
        <ion-col no-padding col-6 text-center class="horizontally-center">
          <img src="./assets/imgs/profile/coin.png">
          <span class="text-coin">1,623</span>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-segment mode="md" [(ngModel)]="segment" color="light" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="collect">
        {{ 'MY_COLLECT' | translate }}
      </ion-segment-button>
      <ion-segment-button value="favorite">
        {{ 'MY_FAVORTIE' | translate }}
      </ion-segment-button>
      <ion-segment-button value="history">
        {{ 'HISTORY' | translate }}
      </ion-segment-button>
    </ion-segment>

  </div>

  <div [ngSwitch]="segment">
    <div *ngSwitchCase="'collect'" no-padding>
      <ion-item no-lines no-padding>
        <ion-row>
          <ion-col col-4 text-center>
            <ion-badge class="ion-badge-style">12</ion-badge>
            <img src="./assets/imgs/profile/vehicle1.png" width="60">
          </ion-col>
          <ion-col col-4 text-center>
            <ion-badge class="ion-badge-style">6</ion-badge>
            <img src="./assets/imgs/profile/vehicle2.png" width="60">
          </ion-col>
          <ion-col col-4 text-center>
            <ion-badge class="ion-badge-style">9</ion-badge>
            <img src="./assets/imgs/profile/vehicle3.png" width="60">
          </ion-col>
        </ion-row>
      </ion-item>

      <ion-list class="list-item">
        <ion-item [ngClass]=" profile.rank === 2 ? 'background-active' : ''" *ngFor="let profile of makeProfile">
          <ion-row>
            <ion-col col-3 class="rank-icon" text-center>
              <ion-icon name="ios-flag"></ion-icon>
              <span>{{profile.rank}}</span>
            </ion-col>
            <ion-col class="display-grid" col-6 text-center>
              <progress class="progress" max="100" value="{{profile.value}}"></progress>
            </ion-col>
            <ion-col col-3 class="user-image" text-center>
              <preload-image [ratio]="{w:1, h:1}" [src]="profile.image" [isIcon]="true"></preload-image>
            </ion-col>
          </ion-row>
        </ion-item>
      </ion-list>

      <div padding text-right>
        <button ion-button clear small class="cate-seeall">
          <b>{{ 'SEE_ALL' | translate }} >></b>
        </button>
      </div>
    </div>

    <div *ngSwitchCase="'favorite'">
      <grid-shop-y [items]="shopData" (selectedItem)="goToDetail($event)"></grid-shop-y>
    </div>

    <div *ngSwitchCase="'history'">
      <ion-item>
        <h1>History</h1>
      </ion-item>
    </div>
  </div>

</ion-content>
